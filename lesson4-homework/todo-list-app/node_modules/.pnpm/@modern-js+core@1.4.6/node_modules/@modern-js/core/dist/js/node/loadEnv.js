"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.loadEnv = void 0;

var _fs = _interopRequireDefault(require("fs"));

var _path = _interopRequireDefault(require("path"));

var _dotenv = _interopRequireDefault(require("dotenv"));

var _dotenvExpand = _interopRequireDefault(require("dotenv-expand"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const loadEnv = (appDirectory, mode = process.env.NODE_ENV) => {
  // Don't change the order of the filenamesï¼Œ since they are ordered by the priority.
  // Files on the left have more priority than files on the right.
  [`.env.${mode}.local`, '.env.local', `.env.${mode}`, '.env'].map(name => _path.default.resolve(appDirectory, name)).filter(filePath => _fs.default.existsSync(filePath) && !_fs.default.statSync(filePath).isDirectory()).forEach(filePath => {
    const envConfig = _dotenv.default.config({
      path: filePath
    });

    (0, _dotenvExpand.default)(envConfig);
  });
};

exports.loadEnv = loadEnv;